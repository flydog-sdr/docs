function open_websocket(a,b,c,d,e,f){if(!("WebSocket"in window)||!("CLOSING"in WebSocket))return console.log("WEBSOCKET TEST"),kiwi_serious_error("Your browser does not support WebSocket, which is required for OpenWebRX to run. <br> Please use an HTML5 compatible browser."),null;var g=kiwi_url_origin().split("://")[1],h="ws://";"https:"===window.location.protocol&&(h="wss://");var i=window.location.href.includes("?no_wf")||window.location.href.includes("&no_wf");g=h+g+"/"+(i?"no_wf/":"kiwi/")+timestamp+"/"+a,i&&(wf.no_wf=!0);var j=new WebSocket(g);return wsockets.push({ws:j,name:a}),j.up=!1,j.stream=a,j.open_cb=b,j.open_cb_param=c,j.msg_cb=d,j.recv_cb=e,j.error_cb=f,j.onopen=function(){if(j.up=!0,j.open_cb)try{j.open_cb(j.open_cb_param)}catch(a){console.log(a)}},j.onmessage=function(a){on_ws_recv(a,j)},j.onclose=function(){j.up=!1,console.log("WS-CLOSE: "+j.stream),setTimeout(function(){location.reload()},1e3)},j.binaryType="arraybuffer",j.onerror=function(a){if(j.error_cb)try{j.error_cb(a,j)}catch(a){console.log(a)}},j} 
